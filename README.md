# 票据小助手

- 概要：基于pdf.js、opencv.js库，读取电子票据内容，并划分单元格分组

## 原理

### pdf电子文档

- [x] 使用pdf.js逐页读取电子票据；
- [x] 渲染为图片并用opencv分割单元格；
- [x] 对pdf文本排序分组，分为表内外文本；
- [x] 配置预设列取数函数，提取字段信息。

### ofd版式文件

- [x] 使用jszip库读取ofd版式文件压缩内容；
- [x] 依据OFD.xml逐项遍历xml文件；
- [x] 依据CustomTags.xml，标注Content.xml数据；
- [x] 配置预设列取数函数，提取字段信息。

## 待办

- [ ] 效率有待优化，图片渲染完毕时间未准确检测，易分割失败；
- [ ] 尚未适配：框线断裂、一票多页、图片格式；
- [ ] 增加票据整理，使用提取的字段来重命名

## 更新记录

- v0.0.2 读取ofd，提取xml数据
- v0.0.1 初始化测试
